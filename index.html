<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechShop - Sistema de Gestão</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .header p {
            text-align: center;
            color: #666;
            font-size: 1.1em;
        }

        .nav-tabs {
            display: flex;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 5px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 5px;
        }

        .nav-tab {
            flex: 1;
            min-width: 120px;
            background: transparent;
            border: none;
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            color: #666;
        }

        .nav-tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .nav-tab:hover:not(.active) {
            background: rgba(102, 126, 234, 0.1);
            transform: translateY(-1px);
        }

        .tab-content {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            animation: fadeInUp 0.5s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-title {
            color: #333;
            margin-bottom: 25px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
        }

        .btn-warning {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .table th,
        .table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e1e5e9;
        }

        .table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
        }

        .table tr:hover {
            background: rgba(102, 126, 234, 0.05);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-left: 4px solid #667eea;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-card h3 {
            color: #333;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: #666;
            font-size: 1.1em;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-pendente {
            background: #fff3cd;
            color: #856404;
        }

        .status-andamento {
            background: #d4edda;
            color: #155724;
        }

        .status-concluido {
            background: #d1ecf1;
            color: #0c5460;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: #667eea;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .nav-tab {
                min-width: 100px;
                padding: 10px 15px;
                font-size: 14px;
            }
            
            .container {
                padding: 10px;
            }
        }

        .search-bar {
            margin-bottom: 20px;
        }

        .search-bar input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            font-size: 16px;
            background: white;
        }

        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border-color: #2ecc71;
        }

        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border-color: #e74c3c;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-mobile-alt"></i> TechShop</h1>
            <p>Sistema de Gestão Completo para Assistência Técnica e Serviços</p>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="showTab('dashboard')">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </button>
            <button class="nav-tab" onclick="showTab('produtos')">
                <i class="fas fa-box"></i> Produtos
            </button>
            <button class="nav-tab" onclick="showTab('servicos')">
                <i class="fas fa-tools"></i> Serviços
            </button>
            <button class="nav-tab" onclick="showTab('grafica')">
                <i class="fas fa-print"></i> Gráfica
            </button>
            <button class="nav-tab" onclick="showTab('vendas')">
                <i class="fas fa-shopping-cart"></i> Vendas
            </button>
            <button class="nav-tab" onclick="showTab('clientes')">
                <i class="fas fa-users"></i> Clientes
            </button>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="tab-content active">
            <h2 class="section-title">Dashboard</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3 id="totalVendas">R$ 0,00</h3>
                    <p>Vendas do Mês</p>
                </div>
                <div class="stat-card">
                    <h3 id="servicosPendentes">0</h3>
                    <p>Serviços Pendentes</p>
                </div>
                <div class="stat-card">
                    <h3 id="produtosEstoque">0</h3>
                    <p>Produtos em Estoque</p>
                </div>
                <div class="stat-card">
                    <h3 id="clientesAtivos">0</h3>
                    <p>Clientes Cadastrados</p>
                </div>
            </div>

            <div class="card">
                <h3>Serviços Recentes</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Cliente</th>
                            <th>Serviço</th>
                            <th>Status</th>
                            <th>Data</th>
                        </tr>
                    </thead>
                    <tbody id="servicosRecentes">
                        <!-- Dados serão carregados via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Produtos -->
        <div id="produtos" class="tab-content">
            <h2 class="section-title">Gestão de Produtos</h2>
            
            <div class="card">
                <button class="btn" onclick="openModal('modalProduto')">
                    <i class="fas fa-plus"></i> Adicionar Produto
                </button>
                
                <div class="search-bar">
                    <input type="text" id="searchProdutos" placeholder="Buscar produtos..." onkeyup="searchTable('tabelaProdutos', this.value)">
                </div>

                <table class="table" id="tabelaProdutos">
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Nome</th>
                            <th>Categoria</th>
                            <th>Preço</th>
                            <th>Estoque</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="listaProdutos">
                        <!-- Produtos serão carregados via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Serviços -->
        <div id="servicos" class="tab-content">
            <h2 class="section-title">Ordem de Serviços</h2>
            
            <div class="card">
                <button class="btn" onclick="openModal('modalServico')">
                    <i class="fas fa-plus"></i> Nova Ordem de Serviço
                </button>
                
                <div class="search-bar">
                    <input type="text" id="searchServicos" placeholder="Buscar serviços..." onkeyup="searchTable('tabelaServicos', this.value)">
                </div>

                <table class="table" id="tabelaServicos">
                    <thead>
                        <tr>
                            <th>OS</th>
                            <th>Cliente</th>
                            <th>Aparelho</th>
                            <th>Problema</th>
                            <th>Status</th>
                            <th>Valor</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="listaServicos">
                        <!-- Serviços serão carregados via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Gráfica -->
        <div id="grafica" class="tab-content">
            <h2 class="section-title">Serviços de Gráfica</h2>
            
            <div class="card">
                <button class="btn" onclick="openModal('modalGrafica')">
                    <i class="fas fa-plus"></i> Novo Serviço de Gráfica
                </button>
                
                <div class="search-bar">
                    <input type="text" id="searchGrafica" placeholder="Buscar serviços de gráfica..." onkeyup="searchTable('tabelaGrafica', this.value)">
                </div>

                <table class="table" id="tabelaGrafica">
                    <thead>
                        <tr>
                            <th>Pedido</th>
                            <th>Cliente</th>
                            <th>Serviço</th>
                            <th>Quantidade</th>
                            <th>Status</th>
                            <th>Valor</th>
                            <th>Entrega</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="listaGrafica">
                        <!-- Serviços de gráfica serão carregados via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Vendas -->
        <div id="vendas" class="tab-content">
            <h2 class="section-title">Ponto de Venda</h2>
            
            <div class="form-row">
                <div class="card">
                    <h3>Nova Venda</h3>
                    <form id="formVenda">
                        <div class="form-group">
                            <label>Cliente:</label>
                            <select id="clienteVenda" required>
                                <option value="">Selecione um cliente</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Produto:</label>
                            <select id="produtoVenda" onchange="updatePreco()">
                                <option value="">Selecione um produto</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Quantidade:</label>
                                <input type="number" id="quantidadeVenda" min="1" value="1" onchange="updateTotal()">
                            </div>
                            <div class="form-group">
                                <label>Preço Unitário:</label>
                                <input type="number" id="precoUnitario" step="0.01" readonly>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Total:</label>
                            <input type="text" id="totalVenda" readonly style="font-weight: bold; font-size: 1.2em;">
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-shopping-cart"></i> Finalizar Venda
                        </button>
                    </form>
                </div>

                <div class="card">
                    <h3>Vendas Recentes</h3>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Cliente</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody id="vendasRecentes">
                            <!-- Vendas recentes serão carregadas via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Clientes -->
        <div id="clientes" class="tab-content">
            <h2 class="section-title">Gestão de Clientes</h2>
            
            <div class="card">
                <button class="btn" onclick="openModal('modalCliente')">
                    <i class="fas fa-plus"></i> Adicionar Cliente
                </button>
                
                <div class="search-bar">
                    <input type="text" id="searchClientes" placeholder="Buscar clientes..." onkeyup="searchTable('tabelaClientes', this.value)">
                </div>

                <table class="table" id="tabelaClientes">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Telefone</th>
                            <th>Email</th>
                            <th>Endereço</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="listaClientes">
                        <!-- Clientes serão carregados via JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal Produto -->
    <div id="modalProduto" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalProduto')">&times;</span>
            <h2>Adicionar/Editar Produto</h2>
            <form id="formProduto">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nome do Produto:</label>
                        <input type="text" id="nomeProduto" required>
                    </div>
                    <div class="form-group">
                        <label>Categoria:</label>
                        <select id="categoriaProduto" required>
                            <option value="">Selecione...</option>
                            <option value="Capas">Capas</option>
                            <option value="Películas">Películas</option>
                            <option value="Carregadores">Carregadores</option>
                            <option value="Cabos">Cabos</option>
                            <option value="Fones">Fones de Ouvido</option>
                            <option value="Acessórios">Acessórios</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Preço de Venda:</label>
                        <input type="number" id="precoProduto" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Quantidade em Estoque:</label>
                        <input type="number" id="estoqueProduto" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Descrição:</label>
                    <textarea id="descricaoProduto" rows="3"></textarea>
                </div>
                <button type="submit" class="btn">Salvar Produto</button>
            </form>
        </div>
    </div>

    <!-- Modal Serviço -->
    <div id="modalServico" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalServico')">&times;</span>
            <h2>Nova Ordem de Serviço</h2>
            <form id="formServico">
                <div class="form-row">
                    <div class="form-group">
                        <label>Cliente:</label>
                        <select id="clienteServico" required>
                            <option value="">Selecione um cliente</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Aparelho:</label>
                        <input type="text" id="aparelhoServico" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Problema Relatado:</label>
                    <textarea id="problemaServico" rows="3" required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Valor do Serviço:</label>
                        <input type="number" id="valorServico" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Previsão de Entrega:</label>
                        <input type="date" id="previsaoServico" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>Observações:</label>
                    <textarea id="observacoesServico" rows="2"></textarea>
                </div>
                <button type="submit" class="btn">Criar Ordem de Serviço</button>
            </form>
        </div>
    </div>

    <!-- Modal Gráfica -->
    <div id="modalGrafica" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalGrafica')">&times;</span>
            <h2>Novo Serviço de Gráfica</h2>
            <form id="formGrafica">
                <div class="form-row">
                    <div class="form-group">
                        <label>Cliente:</label>
                        <select id="clienteGrafica" required>
                            <option value="">Selecione um cliente</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tipo de Serviço:</label>
                        <select id="tipoGrafica" required>
                            <option value="">Selecione...</option>
                            <option value="Impressão">Impressão</option>
                            <option value="Xerox">Xerox</option>
                            <option value="Scanner">Scanner</option>
                            <option value="Foto 3x4">Foto 3x4</option>
                            <option value="Plastificação">Plastificação</option>
                            <option value="Encadernação">Encadernação</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Quantidade:</label>
                        <input type="number" id="quantidadeGrafica" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>Valor Total:</label>
                        <input type="number" id="valorGrafica" step="0.01" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Data de Entrega:</label>
                        <input type="date" id="entregaGrafica" required>
                    </div>
                    <div class="form-group">
                        <label>Status:</label>
                        <select id="statusGrafica">
                            <option value="Pendente">Pendente</option>
                            <option value="Em Andamento">Em Andamento</option>
                            <option value="Concluído">Concluído</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Observações:</label>
                    <textarea id="observacoesGrafica" rows="3"></textarea>
                </div>
                <button type="submit" class="btn">Criar Pedido</button>
            </form>
        </div>
    </div>

    <!-- Modal Cliente -->
    <div id="modalCliente" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalCliente')">&times;</span>
            <h2>Adicionar/Editar Cliente</h2>
            <form id="formCliente">
                <div class="form-row">
                    <div class="form-group">
                        <label>Nome Completo:</label>
                        <input type="text" id="nomeCliente" required>
                    </div>
                    <div class="form-group">
                        <label>Telefone:</label>
                        <input type="tel" id="telefoneCliente" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" id="emailCliente">
                    </div>
                    <div class="form-group">
                        <label>CPF:</label>
                        <input type="text" id="cpfCliente">
                    </div>
                </div>
                <div class="form-group">
                    <label>Endereço:</label>
                    <input type="text" id="enderecoCliente">
                </div>
                <button type="submit" class="btn">Salvar Cliente</button>
            </form>
        </div>
    </div>

    <script>
        // Dados simulados para demonstração
        let produtos = [
            { id: 1, nome: 'Capa iPhone 14', categoria: 'Capas', preco: 25.90, estoque: 15 },
            { id: 2, nome: 'Película Samsung Galaxy S23', categoria: 'Películas', preco: 15.90, estoque: 20 },
            { id: 3, nome: 'Carregador USB-C', categoria: 'Carregadores', preco: 35.90, estoque: 8 },
        ];

        let clientes = [
            { id: 1, nome: 'João Silva', telefone: '(91) 99999-9999', email: 'joao@email.com', endereco: 'Rua das Flores, 123' },
            { id: 2, nome: 'Maria Santos', telefone: '(91) 98888-8888', email: 'maria@email.com', endereco: 'Av. Brasil, 456' },
        ];

        let servicos = [
            { id: 1, cliente: 'João Silva', aparelho: 'iPhone 12', problema: 'Tela quebrada', status: 'Em Andamento', valor: 280.00, data: '2024-01-15' },
            { id: 2, cliente: 'Maria Santos', aparelho: 'Samsung A54', problema: 'Não carrega', status: 'Pendente', valor: 120.00, data: '2024-01-16' },
        ];

        let grafica = [
            { id: 1, cliente: 'João Silva', servico: 'Foto 3x4', quantidade: 6, valor: 15.00, entrega: '2024-01-20', status: 'Concluído' },
            { id: 2, cliente: 'Maria Santos', servico: 'Impressão', quantidade: 50, valor: 25.00, entrega: '2024-01-18', status: 'Em Andamento' },
        ];

        let vendas = [
            { id: 1, cliente: 'João Silva', produto: 'Capa iPhone 14', quantidade: 1, total: 25.90, data: '2024-01-16' },
            { id: 2, cliente: 'Maria Santos', produto: 'Película Samsung Galaxy S23', quantidade: 2, total: 31.80, data: '2024-01-15' },
        ];

        // Funções de navegação
        function showTab(tabName) {
            // Esconder todas as abas
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Remover classe active dos botões
            const buttons = document.querySelectorAll('.nav-tab');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Mostrar aba selecionada
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            // Carregar dados específicos da aba
            loadTabData(tabName);
        }

        // Funções de modal
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Fechar modal clicando fora
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Função de busca nas tabelas
        function searchTable(tableId, searchTerm) {
            const table = document.getElementById(tableId);
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 1; i < rows.length; i++) {
                const row = rows[i];
                const cells = row.getElementsByTagName('td');
                let found = false;
                
                for (let j = 0; j < cells.length; j++) {
                    if (cells[j].textContent.toLowerCase().includes(searchTerm.toLowerCase())) {
                        found = true;
                        break;
                    }
                }
                
                row.style.display = found ? '' : 'none';
            }
        }

        // Carregar dados das abas
        function loadTabData(tabName) {
            switch(tabName) {
                case 'dashboard':
                    loadDashboard();
                    break;
                case 'produtos':
                    loadProdutos();
                    break;
                case 'servicos':
                    loadServicos();
                    break;
                case 'grafica':
                    loadGrafica();
                    break;
                case 'vendas':
                    loadVendas();
                    break;
                case 'clientes':
                    loadClientes();
                    break;
            }
        }

        // Dashboard
        function loadDashboard() {
            // Calcular estatísticas
            const totalVendasMes = vendas.reduce((sum, venda) => sum + venda.total, 0);
            const servicosPendentesCount = servicos.filter(s => s.status === 'Pendente').length;
            const produtosEstoqueCount = produtos.reduce((sum, produto) => sum + produto.estoque, 0);
            const clientesAtivosCount = clientes.length;

            // Atualizar cards
            document.getElementById('totalVendas').textContent = `R$ ${totalVendasMes.toFixed(2)}`;
            document.getElementById('servicosPendentes').textContent = servicosPendentesCount;
            document.getElementById('produtosEstoque').textContent = produtosEstoqueCount;
            document.getElementById('clientesAtivos').textContent = clientesAtivosCount;

            // Carregar serviços recentes
            const servicosRecentes = document.getElementById('servicosRecentes');
            servicosRecentes.innerHTML = '';
            
            servicos.slice(0, 5).forEach(servico => {
                const row = `
                    <tr>
                        <td>${servico.cliente}</td>
                        <td>${servico.aparelho}</td>
                        <td><span class="status-badge status-${servico.status.toLowerCase().replace(' ', '')}">${servico.status}</span></td>
                        <td>${formatDate(servico.data)}</td>
                    </tr>
                `;
                servicosRecentes.innerHTML += row;
            });
        }

        // Produtos
        function loadProdutos() {
            const lista = document.getElementById('listaProdutos');
            lista.innerHTML = '';
            
            produtos.forEach(produto => {
                const row = `
                    <tr>
                        <td>${produto.id.toString().padStart(3, '0')}</td>
                        <td>${produto.nome}</td>
                        <td>${produto.categoria}</td>
                        <td>R$ ${produto.preco.toFixed(2)}</td>
                        <td>${produto.estoque}</td>
                        <td>
                            <button class="btn btn-warning" onclick="editarProduto(${produto.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-danger" onclick="excluirProduto(${produto.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
                lista.innerHTML += row;
            });
        }

        // Serviços
        function loadServicos() {
            const lista = document.getElementById('listaServicos');
            lista.innerHTML = '';
            
            servicos.forEach(servico => {
                const row = `
                    <tr>
                        <td>OS${servico.id.toString().padStart(3, '0')}</td>
                        <td>${servico.cliente}</td>
                        <td>${servico.aparelho}</td>
                        <td>${servico.problema}</td>
                        <td><span class="status-badge status-${servico.status.toLowerCase().replace(' ', '')}">${servico.status}</span></td>
                        <td>R$ ${servico.valor.toFixed(2)}</td>
                        <td>
                            <button class="btn btn-success" onclick="alterarStatusServico(${servico.id})">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-warning" onclick="editarServico(${servico.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                `;
                lista.innerHTML += row;
            });
        }

        // Gráfica
        function loadGrafica() {
            const lista = document.getElementById('listaGrafica');
            lista.innerHTML = '';
            
            grafica.forEach(item => {
                const row = `
                    <tr>
                        <td>GR${item.id.toString().padStart(3, '0')}</td>
                        <td>${item.cliente}</td>
                        <td>${item.servico}</td>
                        <td>${item.quantidade}</td>
                        <td><span class="status-badge status-${item.status.toLowerCase().replace(' ', '')}">${item.status}</span></td>
                        <td>R$ ${item.valor.toFixed(2)}</td>
                        <td>${formatDate(item.entrega)}</td>
                        <td>
                            <button class="btn btn-success" onclick="alterarStatusGrafica(${item.id})">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-warning" onclick="editarGrafica(${item.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                        </td>
                    </tr>
                `;
                lista.innerHTML += row;
            });
        }

        // Vendas
        function loadVendas() {
            // Carregar clientes no select
            const selectCliente = document.getElementById('clienteVenda');
            selectCliente.innerHTML = '<option value="">Selecione um cliente</option>';
            clientes.forEach(cliente => {
                selectCliente.innerHTML += `<option value="${cliente.id}">${cliente.nome}</option>`;
            });

            // Carregar produtos no select
            const selectProduto = document.getElementById('produtoVenda');
            selectProduto.innerHTML = '<option value="">Selecione um produto</option>';
            produtos.forEach(produto => {
                selectProduto.innerHTML += `<option value="${produto.id}" data-preco="${produto.preco}">${produto.nome}</option>`;
            });

            // Carregar vendas recentes
            const vendasRecentes = document.getElementById('vendasRecentes');
            vendasRecentes.innerHTML = '';
            
            vendas.slice(0, 10).forEach(venda => {
                const row = `
                    <tr>
                        <td>${formatDate(venda.data)}</td>
                        <td>${venda.cliente}</td>
                        <td>R$ ${venda.total.toFixed(2)}</td>
                    </tr>
                `;
                vendasRecentes.innerHTML += row;
            });
        }

        // Clientes
        function loadClientes() {
            const lista = document.getElementById('listaClientes');
            lista.innerHTML = '';
            
            clientes.forEach(cliente => {
                const row = `
                    <tr>
                        <td>${cliente.nome}</td>
                        <td>${cliente.telefone}</td>
                        <td>${cliente.email || '-'}</td>
                        <td>${cliente.endereco || '-'}</td>
                        <td>
                            <button class="btn btn-warning" onclick="editarCliente(${cliente.id})">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-danger" onclick="excluirCliente(${cliente.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    </tr>
                `;
                lista.innerHTML += row;
            });

            // Carregar clientes nos selects dos outros formulários
            updateClienteSelects();
        }

        // Funções auxiliares
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('pt-BR');
        }

        function updateClienteSelects() {
            const selects = ['clienteServico', 'clienteGrafica'];
            selects.forEach(selectId => {
                const select = document.getElementById(selectId);
                if (select) {
                    select.innerHTML = '<option value="">Selecione um cliente</option>';
                    clientes.forEach(cliente => {
                        select.innerHTML += `<option value="${cliente.id}">${cliente.nome}</option>`;
                    });
                }
            });
        }

        function updatePreco() {
            const select = document.getElementById('produtoVenda');
            const precoInput = document.getElementById('precoUnitario');
            const selectedOption = select.options[select.selectedIndex];
            
            if (selectedOption.dataset.preco) {
                precoInput.value = selectedOption.dataset.preco;
            } else {
                precoInput.value = '';
            }
            updateTotal();
        }

        function updateTotal() {
            const quantidade = document.getElementById('quantidadeVenda').value;
            const preco = document.getElementById('precoUnitario').value;
            const total = document.getElementById('totalVenda');
            
            if (quantidade && preco) {
                const totalValue = parseFloat(quantidade) * parseFloat(preco);
                total.value = `R$ ${totalValue.toFixed(2)}`;
            } else {
                total.value = '';
            }
        }

        function showAlert(message, type = 'success') {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            
            const container = document.querySelector('.container');
            container.insertBefore(alertDiv, container.firstChild);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        // Event Listeners para formulários
        document.getElementById('formProduto').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const produto = {
                id: produtos.length + 1,
                nome: document.getElementById('nomeProduto').value,
                categoria: document.getElementById('categoriaProduto').value,
                preco: parseFloat(document.getElementById('precoProduto').value),
                estoque: parseInt(document.getElementById('estoqueProduto').value)
            };
            
            produtos.push(produto);
            loadProdutos();
            closeModal('modalProduto');
            this.reset();
            showAlert('Produto adicionado com sucesso!');
        });

        document.getElementById('formServico').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const clienteId = document.getElementById('clienteServico').value;
            const cliente = clientes.find(c => c.id == clienteId);
            
            const servico = {
                id: servicos.length + 1,
                cliente: cliente.nome,
                aparelho: document.getElementById('aparelhoServico').value,
                problema: document.getElementById('problemaServico').value,
                valor: parseFloat(document.getElementById('valorServico').value),
                data: new Date().toISOString().split('T')[0],
                status: 'Pendente'
            };
            
            servicos.push(servico);
            loadServicos();
            loadDashboard();
            closeModal('modalServico');
            this.reset();
            showAlert('Ordem de serviço criada com sucesso!');
        });

        document.getElementById('formGrafica').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const clienteId = document.getElementById('clienteGrafica').value;
            const cliente = clientes.find(c => c.id == clienteId);
            
            const item = {
                id: grafica.length + 1,
                cliente: cliente.nome,
                servico: document.getElementById('tipoGrafica').value,
                quantidade: parseInt(document.getElementById('quantidadeGrafica').value),
                valor: parseFloat(document.getElementById('valorGrafica').value),
                entrega: document.getElementById('entregaGrafica').value,
                status: document.getElementById('statusGrafica').value
            };
            
            grafica.push(item);
            loadGrafica();
            closeModal('modalGrafica');
            this.reset();
            showAlert('Serviço de gráfica criado com sucesso!');
        });

        document.getElementById('formVenda').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const clienteId = document.getElementById('clienteVenda').value;
            const produtoId = document.getElementById('produtoVenda').value;
            const quantidade = parseInt(document.getElementById('quantidadeVenda').value);
            
            const cliente = clientes.find(c => c.id == clienteId);
            const produto = produtos.find(p => p.id == produtoId);
            
            if (produto.estoque < quantidade) {
                showAlert('Estoque insuficiente!', 'error');
                return;
            }
            
            const venda = {
                id: vendas.length + 1,
                cliente: cliente.nome,
                produto: produto.nome,
                quantidade: quantidade,
                total: quantidade * produto.preco,
                data: new Date().toISOString().split('T')[0]
            };
            
            // Atualizar estoque
            produto.estoque -= quantidade;
            
            vendas.push(venda);
            loadVendas();
            loadProdutos();
            loadDashboard();
            this.reset();
            showAlert('Venda realizada com sucesso!');
        });

        document.getElementById('formCliente').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const cliente = {
                id: clientes.length + 1,
                nome: document.getElementById('nomeCliente').value,
                telefone: document.getElementById('telefoneCliente').value,
                email: document.getElementById('emailCliente').value,
                endereco: document.getElementById('enderecoCliente').value
            };
            
            clientes.push(cliente);
            loadClientes();
            closeModal('modalCliente');
            this.reset();
            showAlert('Cliente adicionado com sucesso!');
        });

        // Funções de ação
        function alterarStatusServico(id) {
            const servico = servicos.find(s => s.id === id);
            const status = ['Pendente', 'Em Andamento', 'Concluído'];
            const currentIndex = status.indexOf(servico.status);
            const nextIndex = (currentIndex + 1) % status.length;
            
            servico.status = status[nextIndex];
            loadServicos();
            loadDashboard();
            showAlert(`Status alterado para: ${servico.status}`);
        }

        function alterarStatusGrafica(id) {
            const item = grafica.find(g => g.id === id);
            const status = ['Pendente', 'Em Andamento', 'Concluído'];
            const currentIndex = status.indexOf(item.status);
            const nextIndex = (currentIndex + 1) % status.length;
            
            item.status = status[nextIndex];
            loadGrafica();
            showAlert(`Status alterado para: ${item.status}`);
        }

        function excluirProduto(id) {
            if (confirm('Tem certeza que deseja excluir este produto?')) {
                produtos = produtos.filter(p => p.id !== id);
                loadProdutos();
                loadDashboard();
                showAlert('Produto excluído com sucesso!');
            }
        }

        function excluirCliente(id) {
            if (confirm('Tem certeza que deseja excluir este cliente?')) {
                clientes = clientes.filter(c => c.id !== id);
                loadClientes();
                loadDashboard();
                showAlert('Cliente excluído com sucesso!');
            }
        }

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboard();
        });
    </script>
</body>
</html>